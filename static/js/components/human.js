// Generated by CoffeeScript 1.4.0
(function() {

  define([], function() {
    var Human;
    Human = (function() {

      function Human(entity, params) {
        params = params || {};
        this.entity = entity;
        this.health = params.health || 100;
        this.age = params.age || 0.1;
        this.resources = params.resources || 100;
        this.sex = ['male', 'female'][Math.random() * 2 | 0];
        this.isPregnant = false;
        this.pregnancyChance = Math.round(Math.random() * 100) / 100;
        this.gestationLength = 0.9;
        this.gestationTimeLeft = 0;
        this.mateId = null;
        this.children = [];
        this.family = [];
        this.isDead = false;
        this.strength = Math.random() * 20 | 0;
        this.agility = Math.random() * 20 | 0;
      }

      Human.prototype.calculateHealth = function() {
        var health;
        health = this.health;
        if (this.resources < 0) {
          health -= 0.1 + Math.abs(this.resources * 0.02);
        }
        if (this.age > 70) {
          health -= 0.1 + (this.age * 0.005);
        }
        if (this.age > 100) {
          if (Math.random() < 0.1) {
            health = -1;
          }
        }
        return health;
      };

      Human.prototype.calculateResources = function() {
        var resources;
        resources = this.resources;
        if (this.age < 20) {
          resources -= 0.05 + ((20 - this.age) / 26);
        } else if (this.age > 60) {
          resources -= 0.2 + (this.age * 0.001);
        } else {
          resources -= 0.10;
          if (this.isPregnant) {
            resources -= 0.10;
          }
        }
        return resources;
      };

      Human.prototype.getMaxSpeed = function() {
        var maxSpeed;
        maxSpeed = 0;
        if (this.age < 2) {
          maxSpeed = 2;
        } else if (this.age < 10) {
          maxSpeed = 4;
        } else if (this.age < 60) {
          maxSpeed = 6 + (Math.random() * 4 | 0);
        } else {
          maxSpeed = 4;
        }
        return maxSpeed;
      };

      return Human;

    })();
    return Human;
  });

}).call(this);
